<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>prueba api instagram</h2>
    <div id="instafeed"></div>
</body>
<script>
    const token = 'de8c6d0d7a356e33c830ff9a0ffc54a2';
    const userId = '522348117131642'; // ID de usuario de Instagram
    const url = `https://graph.instagram.com/${userId}/media?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username&access_token=${token}`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            console.log(data);
            const feedContainer = document.getElementById('instafeed');
            data.data.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';

                if (post.media_type === 'IMAGE' || post.media_type === 'CAROUSEL_ALBUM') {
                    postElement.innerHTML = `<a href="${post.permalink}" target="_blank"><img src="${post.media_url}" alt="${post.caption || ''}"></a>`;
                } else if (post.media_type === 'VIDEO') {
                    postElement.innerHTML = `<a href="${post.permalink}" target="_blank"><video src="${post.media_url}" controls></video></a>`;
                }

                feedContainer.appendChild(postElement);
            });
        })
        .catch(error => console.error('Error:', error));

</script>

</html>